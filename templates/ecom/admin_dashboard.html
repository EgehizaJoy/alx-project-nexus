{% extends 'ecom/admin_base.html' %}
{% load static %}
{% block content %}
<br>
{% include 'ecom/admin_dashboard_cards.html' %}
<br><br><br><br><br>

<hr><hr>

<style>
  :root {
    --pastel-blue-light: #e3f2fd;
    --pastel-blue-dark: #90caf9;
    --text-dark: #1f3a56;
  }

  .panel {
    border-radius: 12px;
    border: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    background: var(--pastel-blue-light);
  }

  .panel-heading {
    background: var(--pastel-blue-dark) !important;
    color: var(--text-dark) !important;
    font-weight: bold;
    font-size: 1.1em;
    border-radius: 12px 12px 0 0;
  }

  table {
    background: white;
    border-radius: 10px;
    overflow: hidden;
  }

  thead {
    background-color: var(--pastel-blue-dark);
    color: var(--text-dark);
  }

  th {
    text-align: center;
    font-size: 0.95em;
  }

  td {
    vertical-align: middle !important;
    text-align: center;
  }

  img {
    border-radius: 6px;
  }

  .label {
    font-size: 0.85em;
    padding: 6px 10px;
    border-radius: 6px;
    display: inline-block;
  }

  .label-info {
    background-color: #81d4fa;
    color: #004d66;
  }

  .label-success {
    background-color: #a5d6a7;
    color: #1b5e20;
  }

  .label-warning {
    background-color: #fff59d;
    color: #7f6000;
  }

  .label-primary {
    background-color: #90caf9;
    color: #0d47a1;
  }

  /* Hover effect for table rows */
  tbody tr:hover {
    background-color: var(--pastel-blue-light);
    transition: background 0.3s ease;
  }
</style>

<div class="container">
  <div class="panel panel-danger">
    <div class="panel-heading" style="text-align:center;">
      <h6 class="panel-title">📦 Recent Booking</h6>
    </div>
    <table class="table table-hover table-bordered" id="dev-table">
      <thead>
        <tr>
          <th>👤 Customer</th>
          <th>📞 Contact</th>
          <th>🏠 Shipment Address</th>
          <th>🛒 Product</th>
          <th>🖼️ Image</th>
          <th>📌 Status</th>
        </tr>
      </thead>
      {% for product,customer,order in data %}
      <tr>
        {% for c in customer %}
        <td>{{ c.get_name }}</td>
        <td>{{ c.mobile }}</td>
        <td>{{ order.address }}</td>
        {% endfor %}
        {% for p in product %}
        <td>{{ p.name }}</td>
        <td>
          <img src="{% static p.product_image.url %}" alt="Product Image" height="40px" width="40px" />
        </td>

        {% if order.status == 'Pending' %}
          <td><span class="label label-info">{{ order.status }}</span></td>
        {% elif order.status == 'Delivered' %}
          <td><span class="label label-success">{{ order.status }}</span></td>
        {% elif order.status == 'Out for Delivery' %}
          <td><span class="label label-warning">{{ order.status }}</span></td>
        {% else %}
          <td><span class="label label-primary">{{ order.status }}</span></td>
        {% endif %}
        {% endfor %}
      </tr>
      {% endfor %}
    </table>
  </div>
</div>

{% endblock content %}
